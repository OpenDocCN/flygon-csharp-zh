# 前言

Unity 是世界上最受欢迎的游戏引擎之一，迎合业余爱好者、专业 AAA 工作室和电影制作公司。虽然以其用作 3D 工具而闻名，但 Unity 拥有一系列专门功能，支持从 2D 游戏和虚拟现实到后期制作和跨平台发布的一切。

开发人员喜欢它的拖放界面和内置功能，但正是编写自定义 C#脚本以实现行为和游戏机制的能力真正使 Unity 脱颖而出。学习编写 C#代码对于已经掌握其他语言的经验丰富的程序员来说可能并不是一个巨大的障碍，但对于那些没有编程经验的人来说可能是令人望而却步的。这就是这本书的用武之地，因为我将带领你从头开始学习编程和 C#语言的基础知识，同时在 Unity 中构建一个有趣且可玩的游戏原型。

# 这本书适合谁

这本书是为那些没有编程或 C#基本原则经验的人写的。然而，如果你是一个有能力的新手或经验丰富的专业人士，来自其他语言，甚至是 C#，但需要在 Unity 中进行游戏开发，这本书仍然适合你。

# 本书涵盖的内容

第一章《了解您的环境》，从 Unity 安装过程开始，介绍了编辑器的主要功能，以及查找 C#和 Unity 特定主题的文档。我们还将介绍如何在 Unity 内创建 C#脚本，并了解 Visual Studio，这是我们所有代码编辑的应用程序。

第二章《编程的基本构件》，首先阐述了编程的原子级概念，让你有机会将变量、方法和类与日常生活中的情况联系起来。然后，我们将介绍简单的调试技术、适当的格式和注释，以及 Unity 如何将 C#脚本转换为组件。

第三章《深入变量、类型和方法》，深入探讨了第二章的基本知识。这包括 C#数据类型、命名约定、访问修饰符以及程序基础所需的其他内容。我们还将介绍如何编写方法、添加参数和使用返回类型，并以对属于`MonoBehaviour`类的标准 Unity 方法的概述结束。

第四章《控制流和集合类型》，介绍了在代码中做出决策的常见方法，包括`if-else`和`switch`语句。然后，我们继续使用数组、列表和字典，并结合迭代语句循环遍历集合类型。我们以查看条件循环语句和一种特殊的 C#数据类型枚举结束本章。

第五章《使用类、结构和面向对象编程》，详细介绍了我们与构建和实例化类和结构的第一次接触。我们将介绍创建构造函数、添加变量和方法以及子类和继承的基本步骤。本章将以对面向对象编程的全面解释以及它如何应用于 C#结束。

第六章《动手使用 Unity》，标志着我们从 C#语法进入游戏设计、关卡构建和 Unity 的特色工具世界。我们将首先介绍游戏设计文档的基础知识，然后开始阻塞我们的关卡几何结构，并添加照明和简单的粒子系统。

第七章《移动、摄像机控制和碰撞》，解释了移动玩家对象和设置第三人称摄像机的不同方法。我们将讨论整合 Unity 物理引擎以获得更真实的运动效果，以及如何处理碰撞器组件并捕捉场景内的交互。

*第八章*，*编写游戏机制*，介绍了游戏机制的概念以及如何有效地实现它们。我们将从添加简单的跳跃动作开始，创建射击机制，并通过添加逻辑来处理物品收集来构建前几章的代码。

*第九章*，*基本人工智能和敌人行为*，从游戏中人工智能的简要概述开始，并介绍了我们将应用于《英雄诞生》的概念。本章涵盖的主题包括在 Unity 中进行导航，使用级别几何和导航网格，智能代理和自动化敌人移动。

*第十章*，*重新审视类型、方法和类*，更深入地研究了数据类型、中级方法特性以及可用于更复杂类的附加行为。本章将让你更深入地了解 C#语言的多功能性和广度。

*第十一章*，*介绍堆栈、队列和哈希集*，深入介绍了中级集合类型及其特性。本章涵盖的主题包括使用堆栈、队列和哈希集，以及它们各自独特适用的不同开发场景。

*第十二章*，*保存、加载和序列化数据*，让你准备好处理游戏信息。本章涵盖的主题包括使用文件系统、创建、删除和更新文件。我们还将涵盖包括 XML、JSON 和二进制数据在内的不同数据类型，并最后进行关于将 C#对象直接序列化为数据格式的实际讨论。

*第十三章*，*探索泛型、委托和更多*，详细介绍了 C#语言的中级特性以及如何在实际的现实场景中应用它们。我们将从泛型编程的概述开始，逐渐深入到委托、事件和异常处理等概念。

*第十四章*，*旅程继续*，回顾了你在整本书中学到的主要内容，并为你提供了进一步学习 C#和 Unity 的资源。这些资源包括在线阅读材料、认证信息以及我最喜欢的视频教程频道。

# 为了充分利用本书

为了充分利用即将到来的 C#和 Unity 冒险，你唯一需要的就是一颗好奇的心和学习的意愿。话虽如此，如果你希望巩固你所学到的知识，那么做所有的代码练习、英雄的试炼和测验部分是必不可少的。最后，在继续学习之前重新学习主题和整章内容以刷新或巩固你的理解总是一个好主意。在不稳定的基础上建造房子是没有意义的。

你还需要在你的计算机上安装当前版本的 Unity — 推荐使用 2021 年或更高版本。所有的代码示例都经过了 Unity 2021.1 的测试，并且应该可以在未来的版本中正常工作。

| 本书涵盖的软件/硬件 |
| --- |
| Unity 2021.1 或更高版本 |
| Visual Studio 2019 或更高版本 |
| C# 8.0 或更高版本 |

在开始之前，请检查你的计算机设置是否符合 Unity 的系统要求，网址为[`docs.unity3d.com/2021.1/Documentation/Manual/system-requirements.html`](https://docs.unity3d.com/2021.1/Documentation/Manual/system-requirements.html)。

# 下载示例代码文件

本书的代码包托管在 GitHub 上，网址为[`github.com/PacktPublishing/Learning-C-by-Developing-Games-with-Unity-Sixth-Edition`](https://github.com/PacktPublishing/Learning-C-by-Developing-Games-with-Unity-Sixth-Edition)。我们还有其他代码包来自我们丰富的图书和视频目录，可在[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)上找到。去看看吧！

## 下载彩色图片

我们还提供了一个 PDF 文件，其中包含了本书中使用的屏幕截图/图表的彩色图片。你可以在这里下载：`static.packt-cdn.com/downloads/9781801813945_ColorImages.pdf`。

## 使用的约定

本书中使用了许多文本约定。

`CodeInText`：表示文本中的代码字词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 用户名。例如：“选择`Materials`文件夹。”

代码块设置如下：

```cs
public string firstName = "Harrison"; 
```

当我们希望引起您对代码块的特定部分的注意时，相关行或项将被突出显示：

```cs
accessModifier returnType UniqueName(**parameterType parameterName**) 
{
    method body
} 
```

**粗体**：表示新术语、重要单词或屏幕上看到的单词，例如菜单或对话框中的单词。例如：“点击**创建** | **3D 对象** | **胶囊**，从**层次结构**面板中。”
